---
interface Props {
  title: string;
  excerpt: string;
  date: Date;
  tags: string[];
  slug: string;
  status: string;
}

const { title, excerpt, date, tags, slug, status } = Astro.props;

const formatDate = (date: Date) => {
  return date.toLocaleDateString('en-US', {
    month: 'short',
    year: 'numeric'
  }).toLowerCase();
};

const dateDisplay = status === 'coming-soon' ? 'coming soon' : formatDate(date);
const href = status === 'coming-soon' ? '#' : `/writing/${slug}`;
---

<article class="writing-item">
    <div class="writing-date">{dateDisplay}</div>
    <div class="writing-content">
        <h3><a href={href}>{title}</a></h3>
        <p class="writing-excerpt">{excerpt}</p>
        <div class="writing-tags">
            {tags.map(tag => <span class="tag">{tag}</span>)}
        </div>
    </div>
</article>
