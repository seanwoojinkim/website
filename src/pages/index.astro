---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProjectCard from '../components/ProjectCard.astro';
import FillerBlock from '../components/FillerBlock.astro';
import { getCollection } from 'astro:content';

const projects = (await getCollection('projects')).sort((a, b) => a.data.order - b.data.order);
---

<BaseLayout title="Sean Kim â€” Interactive Systems" activePage="work">
    <header>
        <h1>Selected Work</h1>
        <p class="subtitle">
            Things I've been having fun working on. Hope you enjoy!
        </p>
    </header>

    <div class="grid">
        {projects.map((project, index) => (
            <ProjectCard
                title={project.data.title}
                description={project.data.description}
                status={project.data.status}
                category={project.data.category}
                number={String(index + 1).padStart(2, '0')}
                buttons={project.data.buttons}
            />
        ))}
        <FillerBlock variant={1} />
        <FillerBlock variant={2} />
    </div>
</BaseLayout>
